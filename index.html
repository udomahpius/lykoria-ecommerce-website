<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>My Shop - E-Commerce</title>
  <link rel="stylesheet" href="./css/global-css.css">
  <style>
    :root {
      --bg-color: #fff;
      --text-color: #1e1e2f;
      --header-bg: #FF6600;
      --header-text: #fff;
      --accent: #FF6600;
      --accent-2: #FF9900;
      --dropdown-bg: #fff;
      --dropdown-text: #333;
      --dropdown-hover-bg: var(--accent);
      --dropdown-hover-text: #fff;
      --card-bg: #fff;
      --card-text: #1e1e2f;
      --card-desc: #555;
      --footer-bg: #1e1e2f;
      --footer-text: #fff;
    }

    body.dark-mode {
      --bg-color: #000;
      --text-color: #e6e6e6;
      --header-bg: #0b0d10;
      --header-text: #fff;
      --dropdown-bg: #1f2226;
      --dropdown-text: #e6e6e6;
      --dropdown-hover-bg: #2f3438;
      --dropdown-hover-text: #fff;
      --card-bg: #131417;
      --card-text: #e6e6e6;
      --card-desc: #bfbfbf;
      --footer-bg: #0b0d10;
      --footer-text: #fff;
    }

    body {
      margin: 0;
      font-family: 'Segoe UI', sans-serif;
      background: var(--bg-color);
       /* background: linear-gradient(135deg, #f68b1e, #030346);
  color: var(--text); */
      color: var(--text-color);
    }

    a {
      color: inherit;
      text-decoration: none;
    }

.product-bg{
background: linear-gradient(120deg, #ffffff, #fdf5eb, #ffe9cc);
  background-size: 300% 300%;
  animation: gradientMove 18s ease infinite;
    color: var(--text);
  padding: 1rem 0;
}

@keyframes gradientMove {
  0% { background-position: 0% 50%; }
  50% { background-position: 100% 50%; }
  100% { background-position: 0% 50%; }
}
    .hero-section {
       background: linear-gradient(120deg, #f68b1e, #ffcc70, #030346);
  color: var(--text);
      display: grid;
      grid-template-columns: 200px 1fr 250px;
      gap: 15px;
      padding-top: 10% !important;
      max-width: 100%;
      padding: 10px;

    }

    .hero-section .hero-carousel img {
      width: 100% !important;
      height: auto;
    }

    /* Categories */
    .hero-categories {
      background: #fff;
      border-radius: 8px;
      box-shadow: 0 2px 6px rgba(0, 0, 0, 0.1);
    }

    .hero-categories ul {
      list-style: none;
      margin: 0;
      padding: 10px;
    }

    .hero-categories li {
      padding: 8px 0;
    }

    .hero-categories a {
      color: #333;
      text-decoration: none;
      font-size: 14px;
    }

    .hero-categories a:hover {
      color: #ff6600;
    }

    /* Carousel */
    .hero-carousel {
      position: relative;
      overflow: hidden;
      border-radius: 8px;
      box-shadow: 0 2px 6px rgba(0, 0, 0, 0.1);
    }

    .carousel-track {
      display: flex;
      transition: transform 0.5s ease;
    }

    .carousel-slide {
      min-width: 100%;
    }

    .carousel-slide img {
      width: 100%;
      height: 300px;
      object-fit: cover;
    }

    .carousel-btn {
      position: absolute;
      top: 50%;
      transform: translateY(-50%);
      background: rgba(0, 0, 0, 0.5);
      color: #fff;
      border: none;
      padding: 10px;
      cursor: pointer;
      border-radius: 50%;
    }

    .carousel-btn.prev {
      left: 10px;
    }

    .carousel-btn.next {
      right: 10px;
    }

    /* Promo Cards */
    .hero-promos {
      display: flex;
      flex-direction: column;
      gap: 15px;
    }

    .promo-card {
      background: #fff;
      border-radius: 8px;
      box-shadow: 0 2px 6px rgba(0, 0, 0, 0.1);
      padding: 10px;
      text-align: center;
    }

    .promo-card img {
      width: 100%;
      border-radius: 6px;
      height: 120px;
      object-fit: cover;
    }

    .promo-card h4 {
      margin: 10px 0 5px;
      font-size: 16px;
    }

    .promo-card p {
      font-size: 14px;
      color: #777;
    }

    .promo-card a {
      display: inline-block;
      margin-top: 5px;
      padding: 6px 12px;
      background: #ff6600;
      color: #fff;
      font-size: 14px;
      border-radius: 4px;
      text-decoration: none;
    }

    .promo-card a:hover {
      background: #ff9900;
    }

    .add-to-cart{
      display: inline-block;
      margin-top: 5px;
      padding: 6px 12px;
       background:var(--card-text);
      color: #fff;
      font-size: 14px;
      border-radius: 4px;
      text-decoration: none;
      cursor: pointer;
    }
    .add-to-cart:hover{
       background:var(--card-desc);
    }

    /* Responsive */
    @media(max-width: 900px) {
      .hero-section {
        grid-template-columns: 1fr;
      }

      .hero-promos {
        flex-direction: row;
        justify-content: center;
      }
    }


    /* Hot Deals Carousel */
    .carousel {
      display: flex;
      overflow-x: auto;
      gap: 15px;
      padding: 10px;
    }

    .carousel::-webkit-scrollbar {
      display: none;
    }

    .carousel-item {
      min-width: 200px;
      background: var(--card-bg);
      border-radius: 12px;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
      flex-shrink: 0;
      display: flex;
      flex-direction: column;
    }

    .carousel-item img {
      width: 100%;
      height: 120px;
      object-fit: cover;
      border-radius: 12px 12px 0 0;
    }

    .carousel-item .carousel-content {
      padding: 10px;
      text-align: center;
    }

    .carousel-item h4 {
      margin: 5px 0;
      font-size: 16px;
    }

    .carousel-item p {
      font-size: 14px;
      color: var(--card-desc);
    }

    /* Products Grid */
    .container {
      max-width: 1200px;
      margin: 30px auto;
      padding: 0 20px;
    }

    .section-title {
      font-size: 22px;
      margin-bottom: 15px;
      font-weight: 600;
      width: 100%;
      padding: 10px;
      background-color: var(--footer-bg);
      color: var(--footer-text);
    }

    .posts-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(220px, 1fr));
      gap: 20px;
    }

    .post-card {
      background: var(--card-bg);
      border-radius: 12px;
      overflow: hidden;
      transition: 0.3s;
      display: flex;
      flex-direction: column;
      position: relative;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
    }

    .post-card img {
      width: 100%;
      height: 150px;
      object-fit: cover;
    }

    .post-card-content {
      padding: 10px;
      display: flex;
      flex-direction: column;
      gap: 5px;
    }

    .post-card h3 {
      font-size: 16px;
      margin: 0;
    }

    .post-card p {
      font-size: 14px;
      color: var(--card-desc);
      margin: 0;
    }

    .post-card .read-more {
      margin-top: auto;
      text-align: center;
      padding: 8px 0;
      background: var(--accent);
      color: #fff;
      border-radius: 6px;
      font-weight: 600;
    }

    .post-card .read-more:hover {
      background: var(--accent-2);
    }

    /* Newsletter */
    .newsletter {
      background: var(--accent);
      color: #fff;
      text-align: center;
      padding: 25px 15px;
      margin: 30px 0;
      border-radius: 12px;
    }

    .newsletter input {
      padding: 10px 15px;
      border-radius: 6px;
      border: none;
      width: 250px;
      max-width: 80%;
      margin-right: 10px;
    }

    .newsletter button {
      padding: 10px 15px;
      border: none;
      border-radius: 6px;
      background: var(--accent-2);
      color: #fff;
      cursor: pointer;
    }

    .newsletter button:hover {
      background: var(--accent);
    }




    /* Mobile search bar styles */
    .mobile-search-bar {
      display: none;
      padding: 12px 15px;
      background: var(--header-bg);
      text-align: center;
    }

    .mobile-search-bar input {
      width: 70%;
      max-width: 300px;
      padding: 8px 10px;
      border-radius: 6px;
      border: none;
    }

    .mobile-search-bar button {
      padding: 8px 12px;
      margin-left: 8px;
      border: none;
      border-radius: 6px;
      background: var(--accent-2);
      color: #fff;
      cursor: pointer;
      font-weight: 600;
    }

    .mobile-search-bar button:hover {
      background: var(--accent);
    }

    /* Show only on mobile */
    @media(max-width: 900px) {
      .mobile-search-bar {
        display: block;
      }

      .hero-categories {
        display: none !important;
      }
    }
  </style>
</head>

<body>

  <!-- ====== HEADER ====== -->
  <header class="header">
    <div class="top-bar">
      <!-- Logo -->
      <div class="logo">
        <a href="../index.html"><img src="../assets/logo.png" alt="Logo"></a>
      </div>

      <!-- Search with category -->
      <div class="search-box">
        <select class="search-category">
          <option value="all">All Categories</option>
          <option value="health">Health</option>
          <option value="sports">Sports</option>
          <option value="business">Business</option>
          <option value="education">Education</option>
          <option value="entertainment">Entertainment</option>
        </select>
        <input type="text" placeholder="Search for products, brands and more..." />
        <button onclick="handleSearch()"><i class="fa-solid fa-magnifying-glass"></i></button>

      </div>

      <!-- Right icons -->
      <div class="header-icons">
       
        <a href="#"><i class="fas fa-question-circle"></i> Help</a>
        <a href="../html/cart.html">
          <i class="fa-solid fa-cart-plus"></i>  Cart (<span id="cartCount">0</span>)
        </a>

        <div class="dropdown">
  <a class="header-icons-dropdown" onclick="toggleDropdown()">
    <i class="fa-regular fa-user"></i> Account ‚ñº
  </a>
  <div class="dropdown-content" id="accountDropdown">
    <a href="./html/signup.html"><i class="fas fa-user"></i> Signup</a>
    <a href="./html/admin.html"><i class="fas fa-user"></i> Dashboard</a>
  </div>
</div>
      </div>

      

      <!-- Mobile toggle -->
      <button class="menu-toggle" onclick="toggleMenu()">‚ò∞</button>
    </div>

    <!-- ===== Mega Menu (Desktop only) ===== -->
    <nav class="mega-menu">
      <ul>
        <li><a href="./product-category/health.html">Health</a></li>
        <li><a href="./product-category/sports.html">Sports</a></li>
        <li><a href="./product-category/business.html">Business</a></li>
        <li><a href="./product-category/education.html">Education</a></li>
        <li><a href="./product-category/entertainment.html">Entertainment</a></li>
        <li><a href="./product-category/lifestyle.html">Lifestyle</a></li>
        <li><a href="./product-category/fashion.html">Fashion</a></li>
        <li><a href="./product-category/electronics.html">Electronics</a></li>
        <li><a href="./product-category/grocerise">Groceries</a></li>
      </ul>
    </nav>
  </header>

  <!-- ===== Mobile Nav ===== -->
  <div class="mobile-nav" id="mobileNav">
    <button class="close-btn" onclick="toggleMenu()">‚úñ</button>
    <ul>
      <li><a href="index.html">Home</a></li>
      <li class="has-sub">
        <a href="#">Categories ‚ñæ</a>
        <ul class="sub-menu">
          <li><a href="./product-category/health.html">Health</a></li>
        <li><a href="./product-category/sports.html">Sports</a></li>
        <li><a href="./product-category/business.html">Business</a></li>
        <li><a href="./product-category/education.html">Education</a></li>
        <li><a href="./product-category/entertainment.html">Entertainment</a></li>
        <li><a href="./product-category/lifestyle.html">Lifestyle</a></li>
        <li><a href="./product-category/fashion.html">Fashion</a></li>
        <li><a href="./product-category/electronics.html">Electronics</a></li>
        <li><a href="./product-category/grocerise">Groceries</a></li>
        </ul>
      </li>
      <li><a href="#"><i class="fa-solid fa-gear"></i> Account</a></li>
      <li><a href="./html/signup.html"><i class="fa-solid fa-right-to-bracket"></i> Signup</a></li>
      <li> <a href="./html/admin.html"><i class="fas fa-user"></i> Dashboard</a></li>
      <li><a href="#"> <i class="fa-solid fa-question"></i> Help</a></li>
      <li> <a href="./html/cart.html">
          <i class="fa-solid fa-cart-plus"></i> Cart (<span id="cartCount">0</span>)
        </a>

      </li>
    </ul>
  </div>
  <div class="overlay" id="overlay" onclick="toggleMenu()"></div>


  <div class="hero-section">
    <!-- Left: Categories -->
    <div class="hero-categories">
      <ul>
        <li><a href="#">Entertainment</a></li>
        <li><a href="./product-category/technology">Technology</a></li>
        <li><a href="./product-category/politics.html">Politics</a></li>
        <li><a href="./product-category/travel.html">Travel</a></li>
        <li><a href="./product-category/health.html">Health</a></li>
        <li><a href="./product-category/sports.html">Sports</a></li>
        <li><a href="./product-category/business.html">Business</a></li>
        <li><a href="./product-category/education.html">Education</a></li>
        <li><a href="./product-category/entertainment.html">Entertainment</a></li>
        <li><a href="./product-category/lifestyle.html">Lifestyle</a></li>
        <li><a href="./product-category/fashion.html">Fashion</a></li>
        <li><a href="./product-category/electronics.html">Electronics</a></li>
        <li><a href="./product-category/grocerise">Groceries</a></li>
      </ul>
    </div>

    <!-- Center: Carousel -->
    <div class="hero-carousel">
      <div class="carousel-track">
        <div class="carousel-slide">
          <img src="./assets/banner.png" alt="Banner 1">
        </div>
        <div class="carousel-slide">
          <img src="./assets/bg.png" alt="Banner 2">
        </div>
        <div class="carousel-slide">
          <img src="./assets/banner.png" alt="Banner 3">
        </div>
      </div>
      <button class="carousel-btn prev">‚ùÆ</button>
      <button class="carousel-btn next">‚ùØ</button>
    </div>

    <!-- Right: Product Card -->
    <div class="hero-promos">
      <div class="promo-card">
        <img src="./assets/banner.png" alt="Deal 1">
        <h4>Special Deal</h4>
        <p>Save 50% today</p>
        <a href="#">Shop Now</a>
      </div>
      <div class="promo-card">
        <img src="./assets/bg.png" alt="Deal 2">
        <h4>Flash Sale</h4>
        <p>Limited stock</p>
        <a href="#">Grab Deal</a>
      </div>
    </div>
  </div>

  <!-- Mobile Search Bar -->
  <div class="mobile-search-bar">
    <input type="text" id="mobileSearchInput" placeholder="Search products...">
    <button id="clearSearchBtn">Clear Search</button>
  </div>
  <div id="searchResults"></div>
  <div class="container">
    <div class="section-title">Hot Deals</div>
    <div class="carousel" id="hotDeals"></div>
  </div>

  <div class="product-bg">
<div class="container">
    <h2 class="section-title">Health</h2>
    <div class="posts-grid" id="health-posts"></div>

    <h2 class="section-title">Entertainment</h2>
    <div class="posts-grid" id="entertainment-posts"></div>

    <h2 class="section-title">Sports</h2>
    <div class="posts-grid" id="sports-posts"></div>

    <h2 class="section-title">Technology</h2>
    <div class="posts-grid" id="technology-posts"></div>

    <h2 class="section-title">Education</h2>
    <div class="posts-grid" id="education-posts"></div>


    <h2 class="section-title">Travel</h2>
    <div class="posts-grid" id="travel-posts"></div>

    <h2 class="section-title">Politics</h2>
    <div class="posts-grid" id="politics-posts"></div>

    <h2 class="section-title">Business</h2>
    <div class="posts-grid" id="business-posts"></div>

    <h2 class="section-title">Lifestyle</h2>
    <div class="posts-grid" id="lifestyle-posts"></div>

</div>
  </div>


<div class="container">
    <div class="section-title">Featured Products</div>
    <div class="posts-grid" id="productsGrid"></div>

    <div class="newsletter">
      <h3>Subscribe to our Newsletter</h3>
      <input type="email" placeholder="Enter your email"><button>Subscribe</button>
    </div>
  </div>
  

  <!-- ===== Footer ===== -->
<footer class="footer">
  <div class="footer-top">
    <div class="footer-col">
      <h3>Need Help?</h3>
      <ul>
        <li><a href="#">FAQ</a></li>
        <li><a href="#">Shipping</a></li>
        <li><a href="#">Returns</a></li>
        <li><a href="#">Track Order</a></li>
      </ul>
    </div>
    <div class="footer-col">
      <h3>About Us</h3>
      <ul>
        <li><a href="#">Company Info</a></li>
        <li><a href="#">Careers</a></li>
        <li><a href="#">Affiliate Program</a></li>
        <li><a href="#">Press</a></li>
      </ul>
    </div>
    <div class="footer-col">
      <h3>Make Money</h3>
      <ul>
        <li><a href="#">Sell Products</a></li>
        <li><a href="#">Become a Partner</a></li>
        <li><a href="#">Advertise</a></li>
      </ul>
    </div>
    <div class="footer-col">
      <h3>Follow Us</h3>
      <div class="socials">
        <a href="#">üåê</a>
        <a href="#">üìò</a>
        <a href="#">üê¶</a>
        <a href="#">üì∏</a>
      </div>
    </div>
  </div>
  <div class="footer-bottom">
    <p>&copy; 2025 Lykoria. All rights reserved.</p>
  </div>
</footer>

  <script>
    const BASE_URL = "https://lykoria-ecommerce-website.onrender.com";
    const API_URL = `${BASE_URL}/api/posts`;

    let allCategoryPosts = {}; // store API fetched posts per category
    const sampleProducts = [
      { title: "Health Product 1", desc: "Great product", img: "./assets/banner.png", link: "" },
      { title: "Sports Gear", desc: "Awesome gear", img: "./assets/bg.png", link: "" },
      { title: "Business Book", desc: "Learn fast", img: "./assets/banner.png", link: "" },
      { title: "Education Tool", desc: "Educational tool", img: "./assets/bg.png", link: "" },
      { title: "Fitness Kit", desc: "Top quality", img: "./assets/banner.png", link: "" }
    ];

    // ===== Utility functions =====
    function renderPosts(containerId, posts) {
      const container = document.getElementById(containerId);
      container.innerHTML = posts.length
        ? posts.map(p => `
      <div class="post-card">
        <img src="${p.img || p.image || './assets/default-product.png'}" alt="${p.title}">
        <div class="post-card-content">
          <h3>${p.title}</h3>
          <p>${p.desc || p.body?.substring(0, 100) || ''}</p>
          <a href="${p.link || p.url || '#'}" target="_blank" class="read-more">
            ${p.urlText || 'View'}
          </a>
           <button 
        class="add-to-cart"
        data-id="${p._id || p.id}" 
        data-title="${p.title}" 
        data-price="${p.price || 0}" 
        data-image="${p.image || ''}">
        Add to Cart
      </button>
        </div>
      </div>
    `).join('')
        : '<p>No results found.</p>';
    }

    function renderCarousel(container, items) {
      container.innerHTML = '';
      items.forEach(p => {
        const item = document.createElement('div');
        item.className = 'carousel-item';
        item.innerHTML = `
      <img src="${p.img || p.image || './assets/default-product.png'}" alt="${p.title}">
      <div class="carousel-content">
        <h4>${p.title}</h4>
        <p>${p.desc || p.body?.substring(0, 100) || ''}</p>
        <a href='' class='add-to-cart'>explore more</a>
      </div>
    `;
        container.appendChild(item);
      });
    }

    // ===== Load API posts per category =====
    async function loadCategory(categoryKey, containerId) {
      const container = document.getElementById(containerId);
      if (!container) return;

      container.innerHTML = `<p>Loading ${categoryKey} posts...</p>`;

      try {
        const res = await fetch(`${API_URL}?category=${categoryKey}&status=published&limit=12`);
        if (!res.ok) throw new Error(`HTTP ${res.status}`);
        const posts = await res.json();
        allCategoryPosts[categoryKey] = posts; // store for search
        renderPosts(containerId, posts);
      } catch (err) {
        console.error(`Error loading ${categoryKey} posts:`, err);
        container.innerHTML = `<p style="color:red;">Failed to load posts for ${categoryKey} check your internet.</p>`;
        allCategoryPosts[categoryKey] = []; // empty array for search
      }
    }

    // ===== Load all homepage categories =====
    function loadHomepagePosts() {
      const categories = [
        { key: "health", container: "health-posts" },
        { key: "entertainment", container: "entertainment-posts" },
        { key: "sports", container: "sports-posts" },
        { key: "technology", container: "technology-posts" },
        { key: "education", container: "education-posts" },
        { key: "travel", container: "travel-posts" },
        { key: "lifestyle", container: "lifestyle-posts" },
        { key: "politics", container: "politics-posts" },
        { key: "business", container: "business-posts" }
      ];

      categories.forEach(cat => loadCategory(cat.key, cat.container));
    }

    // ===== Render sample products & hot deals =====
    function renderSampleProducts() {
      const productsGrid = document.getElementById("productsGrid");
      const hotDeals = document.getElementById("hotDeals");

      renderPosts('productsGrid', sampleProducts);
      renderCarousel(hotDeals, sampleProducts);
    }

    // ===== Search functionality across all sections =====
    function enableGlobalSearch() {
      const searchInput = document.getElementById('searchInput');
      searchInput.addEventListener('input', e => {
        const query = e.target.value.toLowerCase();

        // Search in API categories
        for (const [category, posts] of Object.entries(allCategoryPosts)) {
          const filtered = posts.filter(p =>
            (p.title && p.title.toLowerCase().includes(query)) ||
            (p.body && p.body.toLowerCase().includes(query))
          );
          renderPosts(`${category}-posts`, filtered);
        }

        // Search in sample products (featured + hot deals)
        const filteredProducts = sampleProducts.filter(p =>
          p.title.toLowerCase().includes(query) || p.desc.toLowerCase().includes(query)
        );
        renderPosts('productsGrid', filteredProducts);
        renderCarousel(document.getElementById('hotDeals'), filteredProducts);
      });
    }

    // ===== Initialize everything =====
    document.addEventListener('DOMContentLoaded', () => {
      loadHomepagePosts();
      renderSampleProducts();
      enableGlobalSearch();

    });


    document.addEventListener("DOMContentLoaded", () => {
      const track = document.querySelector(".carousel-track");
      const slides = Array.from(track.children);
      const prevBtn = document.querySelector(".carousel-btn.prev");
      const nextBtn = document.querySelector(".carousel-btn.next");

      let currentIndex = 0;

      function updateCarousel(index) {
        track.style.transform = `translateX(-${index * 100}%)`;
      }

      function nextSlide() {
        currentIndex = (currentIndex + 1) % slides.length;
        updateCarousel(currentIndex);
      }

      function prevSlide() {
        currentIndex = (currentIndex - 1 + slides.length) % slides.length;
        updateCarousel(currentIndex);
      }

      nextBtn.addEventListener("click", nextSlide);
      prevBtn.addEventListener("click", prevSlide);

      // Auto play every 5s
      setInterval(nextSlide, 5000);
    });



    // mobile search function
    document.addEventListener("DOMContentLoaded", () => {
      const productsGrid = document.getElementById('productsGrid');
      const searchInput = document.getElementById('mobileSearchInput');
      const clearSearchBtn = document.getElementById('clearSearchBtn');

      // Store posts globally after fetch
      let allPosts = [];

      // ===== Load posts from backend (example: your /api/posts endpoint) =====
      async function loadPosts() {
        try {
          const res = await fetch("https://lykoria-ecommerce-website.onrender.com/api/posts?status=published");
          const posts = await res.json();
          allPosts = posts; // save for search filtering
          renderProducts();
        } catch (err) {
          console.error("Error fetching posts:", err);
        }
      }

      // ===== Render posts =====
      function renderProducts(filter = '') {
        productsGrid.innerHTML = '';
        const filtered = allPosts.filter(p =>
          p.title.toLowerCase().includes(filter.toLowerCase())
        );

        if (filtered.length === 0) {
          productsGrid.innerHTML = `<p style="grid-column:1/-1;text-align:center;">No results found</p>`;
          return;
        }

        filtered.forEach(p => {
          const card = document.createElement('div');
          card.className = 'post-card';
          card.innerHTML = `
        ${p.image ? `<img src="${p.image}" alt="${p.title}">` : ""}
        <div class="post-card-content">
          <h3>${p.title}</h3>
          <p>${p.body ? p.body.substring(0, 80) + "..." : ""}</p>
          <a href="${p.url || '#'}" class="read-more">View</a>
           <button 
        class="add-to-cart"
        data-id="${p._id || p.id}" 
        data-title="${p.title}" 
        data-price="${p.price || 0}" 
        data-image="${p.image || ''}">
        Add to Cart
      </button>
        </div>
      `;
          productsGrid.appendChild(card);
        });
      }

      // ===== Search input live filter =====
      searchInput.addEventListener('input', e => {
        renderProducts(e.target.value);
      });

      // ===== Clear search =====
      clearSearchBtn.addEventListener('click', () => {
        searchInput.value = '';
        renderProducts();
      });

      // Initial load
      loadPosts();
    });

  </script>
  <script src="https://kit.fontawesome.com/79a2ec8048.js" crossorigin="anonymous"></script>

  <script src="./js/global-js.js"></script>
</body>

</html>